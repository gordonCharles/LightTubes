function startAjax(e,t,a){$.ajax({type:"post",url:e,data:t,dataType:"json",success:function(e){if(7==e.errorcode){switch(location.pathname){case"/":return a({})}location.pathname.indexOf("flash_sale.html")==-1&&logoutAndLogin()}if(e.data&&e.data.access_token){var t=window.localStorage;t.setItem("sdtoken",e.data.access_token),t.setItem("sduserid",e.data.uid)}a&&a(e)},error:function(e,t){}})}function getRealToken(e){var t,a="",i=window.localStorage;if(i.getItem("sdguid")?t=i.getItem("sdguid"):(t=(new Fingerprint).get(),i.setItem("sdguid",t)),Boolean(e)){var o=i.getItem("sdtoken"),n=i.getItem("sduserid");a=o&&n?"?access_token="+o+"&user_id="+n+"&guid="+t:"?guid="+t}else a="?guid="+t;return a}function getUserGuid(){var e;return localStorage.getItem("sdguid")?e=localStorage.getItem("sdguid"):(e=(new Fingerprint).get(),localStorage.setItem("sdguid",e)),e}function getQuery(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null}function getQueryUrl(e){var t=window.location.pathname;t=unescape(t);var a=t.indexOf(e);if(a>-1){var i=t.substr(a+e.length);return i=i.substr(0,i.length-5)}return null}function getLocalhostUrl(){var e=window.location.pathname,t="";return e.lastIndexOf("p-")>0&&(t=e.substr(e.lastIndexOf("p-")+2).split(".")[0]),t}function switchTab(e,t,a){$(e).on("click",function(){var i=$(this),o=i.index();i.addClass(a).siblings(e).removeClass(a),$(t).eq(o).show().siblings(t).hide()})}function createCarousel(e,t,a,i,o){var n=$(e).attr("data-count");n=$.isNull(n)?0:Math.round(Math.random()*(n-1));var r=new Swiper(e,{autoplay:o,pagination:i,loop:!0,grabCursor:!0,paginationClickable:!0,speed:2e3,initialSlide:n});$(t).on("click",function(e){e.preventDefault(),r.swipePrev()}),$(a).on("click",function(e){e.preventDefault(),r.swipeNext()})}function elementBorderToggle(e,t,a){$(e).on("body","focus",function(){$(this).css("border-color",t)}),$(e).on("body","blur",function(){$(this).css("border-color",a)})}function getDate(e,t,a){t&&laydate({elem:e,istoday:!0,istime:!0,format:"YYYY-MM-DD hh:mm:ss"}),a&&laydate({elem:e,istoday:!0,istime:!0,format:"YYYY-MM-DD hh:mm:ss",max:laydate.now(+a)}),laydate({elem:e,istoday:!0})}function increaseBrightness(e,t){e=e.replace(/^\s*#|\s*$/g,""),3==e.length&&(e=e.replace(/(.)/g,"$1$1"));var a=parseInt(e.substr(0,2),16),i=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16);return"#"+(0|256+a+(256-a)*t/100).toString(16).substr(1)+(0|256+i+(256-i)*t/100).toString(16).substr(1)+(0|256+o+(256-o)*t/100).toString(16).substr(1)}function changeRGB(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}var e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return e="#"+t(e[1])+t(e[2])+t(e[3])}function getArea(e,t,a){var i,o;"country"==e&&(i=apiRoot+"index.php?r=admin/common/country/get-country",o="continent="+t),"province"==e&&(i=apiRoot+"index.php?r=admin/common/country/get-region",o="country="+t),startAjax(i,o,function(e){a(e)})}function openPotLayer(e,t){return $("html").addClass("ofh"),$(e).fadeIn(100),$("body").on("click",".btn-close-potlayer",function(){return $("html").removeClass("ofh"),$(this).parent().parent().fadeOut(100),!1}),!1}function updateCartNum(e,t){getCartDataNew(e,function(e){if(0==e.errorcode)if(e.data){var a=0,i=0;$(e.data.products).each(function(){a+=parseInt(this.quantity),i+=this.final_price*this.quantity}),$(t).text(a),$(".js-item-count").text(a),$(".js-hc-total").text("$"+$.formatFloatTo2(i)),$(".js-hc-total").attr("data-usd",$.formatFloatTo2(i)),setCurrencyClick("")}else $(t).text(0)})}function logout(e,t){function a(){startAjax(i,"",function(e){if($.cookie("seeedName","",{expires:-1}),e.errorcode)location.reload();else{var a=window.localStorge;void 0!=a&&(a.removeItem("sdtoken"),a.removeItem("sduserid")),t?t():location.href="login.html"}})}var i=seeedApiURL.setLogout;"confirm"==e&&($("body").createConfirmPot({id:"logout",title:"Are you sure to Log out?"}),$("#logout").on("click",".js-com",function(){a()})),"normal"==e&&a()}function isOnline(e){var t=apiRoot+"index.php?r=common/login/is-login";startAjax(t,"",function(t){e&&e(t)})}function getApiData(e,t){var a=e;startAjax(a,"",function(e){t&&t(e)})}function getApiByParam(e,t,a){startAjax(e,t,function(e){a&&a(e)})}function checkUnenChar(e){for(i=0;i<e.length;i++)if(e.charCodeAt(i)>12592&&e.charCodeAt(i)<12687||e.charCodeAt(i)>=44032&&e.charCodeAt(i)<=55203)return!0;var t=/[\u2E80-\u9FFF]/;return!!t.test(e)}function createEditer(e){var t='<link rel="stylesheet" href="'+apiRoot+'/js/plugin/umeditor/themes/default/css/umeditor.min.css">',a='<script src="'+baseURL+'/js/plugin/umeditor/umeditor.min.js"></script><script src="'+baseURL+'/js/plugin/umeditor/umeditor.config.js"></script><script src="'+baseURL+'/js/plugin/umeditor/lang/zh-cn/zh-cn.js"></script>';$("head").append(t),$("body").append(a);UM.getEditor(e,{initialFrameWidth:800,initialFrameHeight:400,retainOnlyLabelPasted:!0,pasteplain:!0})}function globalSearch(){var e=$(".main-nav"),t=e.find(".user-act"),a=e.find(".search-act");e.find(".search-result");$("body").on("click",".js-search",function(){t.hide(),a.show(),$(".hader-layer").remove(),$("#g-search").trigger("focus");var e='<div class="hader-layer abs hide"></div>';return $("body").addClass("ofh").append(e),$(".hader-layer").width($(document).width()),$(".hader-layer").height($(document).height()),$(".hader-layer").fadeIn(100),!1}),$("body").on("click",".js-close-search",function(){return a.hide(),$(".hader-layer").fadeOut(100),$("body").removeClass("ofh"),t.show(),!1}),$("body").on("click",".hader-layer",function(){$(".js-close-search").trigger("click")})}function getCartData(e){var t=apiRoot+"index.php?r=bazaar/cart/default/index",a="";startAjax(t,a,function(t){e(t)})}function getCartDataNew(e,t){var a=!1;1==Boolean(e)&&(a=!0);var i=seeedApiURL.getCartData+getRealToken(a);startAjax(i,"",function(e){t(e)})}function getNavBarData(e){var t=apiRoot+"index.php?r=bazaar/products/navbar/get-navbar",a="view=index&position=shop";startAjax(t,a,function(t){e(t)})}function getAreaData(e){var t=apiRoot+"index.php?r=admin/common/country/get-country",a="";startAjax(t,a,function(t){e(t)})}function getRegionData(e,t){var a=apiRoot+"index.php?r=admin/common/country/get-region",i="country="+e;startAjax(a,i,function(e){t(e)})}function doSearch(e){var t,a=5,i=apiRoot+"index.php?r=bazaar/search/default/get-suggested-words",o="limit="+a,n=seeedApiURL.searchByName+getRealToken(e),r="";$("#g-search").val(""),startAjax(i,o,function(e){0==e.errorcode&&($(e.data).each(function(e){return!(e>4)&&void(r+='<li><a href="/s/'+this+'.html" target="_self">'+this+"</a></li>")}),$(".search-result").hide().html(r))}),$("body").on("input propertychange","#g-search",function(){var e=$(this),i=e.siblings(".search-result");t=$.trim(e.val());var o="keyword="+t+"&limit="+a,s="";return t.length<3?(t.length>0?i.hide():i.empty().append(r).show(),!1):void startAjax(n,o,function(e){200==e.code?($(e.data).each(function(){s+=1==this.type?'<li><a href="../'+goItemDetailUrl(this.name,this.id)+'" target="_self">'+this.name+"</a></li>":'<li><a href="../'+getCodeUrl(this.name)+"-c-"+this.id+'.html" target="_self">'+this.name+"</a></li>"}),i.empty().append(s).show()):i.empty().append('<div class="no-resule pl30">No search result</div>')})}),$("body").on("keydown","#g-search",function(e){var t=$.trim($(this).val()),a=$(this).siblings(".search-result"),i=isSearchResultOn();if(13==e.keyCode)t=t.replace(/\\/g,""),t=t.replace(/[,\/'"]/g,""),""===t?location.href="/":location.href="/s/"+t+".html";else if(38==e.keyCode){var o="";i?($prev=i.prev(),i.removeClass("search-result-active"),0==$prev.length?(a.find("li:last-child").addClass("search-result-active"),o=a.find("li:last-child").find("a").text()):($prev.addClass("search-result-active"),o=$prev.find("a").text())):(a.find("li:last-child").addClass("search-result-active"),o=a.find("li:last-child").find("a").text()),$(this).val(o)}else if(40==e.keyCode){var o="";i?($next=i.next(),i.removeClass("search-result-active"),0==$next.length?(a.find("li:first-child").addClass("search-result-active"),o=a.find("li:first-child").find("a").text()):($next.addClass("search-result-active"),o=$next.find("a").text())):(a.find("li:first-child").addClass("search-result-active"),o=a.find("li:first-child").find("a").text()),$(this).val(o)}}),$("body").on("click",".js-btn-search",function(){var e=$.trim($("#g-search").val());e=e.replace(/\\/g,""),e=e.replace(/[,\/'"]/g,""),""===e?location.href="/":location.href="/s/"+e+".html"})}function isSearchResultOn(){var e=!1;return $(".search-result").find("li").each(function(){if($(this).hasClass("search-result-active"))return e=$(this),!1}),e}function backToTop(e){var t='<a rel="nofollow" href="#" class="back-to-top" title="Back to top"><i class="fa fa-angle-up"></i></a>';$("#footer").after(t);var a=$(".back-to-top");""!=a&&$(window).scroll(function(){0!=$(this).scrollTop()?a.show():a.fadeOut(200)}),a.click(function(){return $("body,html").animate({scrollTop:0},e),!1})}function getAreaOption(e,t){var a="";getAreaData(function(i){0==i.errorcode&&($(i.data).each(function(){a+='<option value="'+this.countries_id+'">'+this.countries_name+"</option>"}),$(e).find(".js-coun").hide().empty().append(a).show(),t&&t())}),$(e).on("change",".js-coun",function(){var e=$(this),t=e.val(),a="";getRegionData(t,function(t){0==t.errorcode&&(a='<div class="label f12"><i class="c-d0 mr5">*</i>State/Province</div><select class="input sm-input select js-state">',$(t.data).each(function(){a+='<option value="'+this.zone_id+'">'+this.zone_name+"</option>"}),a+="</select>"),3==t.errorcode&&(a='<div class="label f12"><i class="c-d0 mr5">*</i>State/Province</div><input type="text" class="input  sm-input js-state">'),e.parent("div").parent("div").find(".js-state-box").hide().empty().append(a).show();e.parent().next().find(".js-state")})}),t&&t()}function saveAddressToService(e,t){var a=$(e),i=a.find(".js-fn").val(),o=a.find(".js-ln").val(),n=a.find(".js-com").val(),r=a.find(".js-coun").val(),s=a.find(".js-state").val(),c=a.find(".js-city").val(),l=a.find(".js-add").val(),d=a.find(".js-code").val(),u=a.find(".js-phone").val(),p=apiRoot+"index.php?r=admin/user/user-address/add-user-address",h="source=1&first_name="+i+"&last_name="+o+"&company="+n+"&country="+r+"&province="+s+"&city="+c+"&street="+l+"&postcode="+d+"&phone="+u;startAjax(p,h,function(e){a.find(".input").val(""),$(".is_address_flag").val()&&($("#add-new-address").remove(),$("#aderess-book").removeClass("hide")),t&&t(e)})}function recoveryLocation(e){var t;t=e?e:window.location.href,$.cookie("recoURL",t)}function removeItemOfCart(e,t,a){var i=seeedApiURL.deleteCart+getRealToken(e),o="id="+t;startAjax(i,o,function(e){a&&a(e)})}function doLogout(e){var t=seeedApiURL.setLogout;startAjax(t,"",function(t){if($.cookie("seeedName","",{expires:-1}),t.errorcode)location.reload();else{var a=window.localStorage;a.getItem("sdtoken")&&(a.removeItem("sdtoken"),a.removeItem("sduserid")),e&&e()}})}function getTrackingData(e,t,a){var i=apiRoot+"index.php?r=bazaar/user/user-order/get-order-logistics",o="order_sn="+e+"&shipping_sn="+t;startAjax(i,o,function(e){a(e)})}function getTrackingDataParam(e,t,a){var i=apiRoot+"index.php?r=bazaar/user/user-order/get-order-logistics",o="order_sn="+e+"&shipping_sn="+t;startAjax(i,o,function(e){a(e,t)})}function addHeaderCart(e){getCartDataNew(e,function(e){if(0==e.errorcode){var t=$(".js-hc-detail"),a=$(".js-user-list"),i="";if(e.data){var o=0,n=0,r="";$(".js-cart-num")&&(r=getLocalhostUrl()?getLocalhostUrl():getQuery("p_id")),$(e.data.products).each(function(){o+=parseInt(this.quantity),n+=this.final_price*this.quantity,""!=r&&this.product_id==r&&($(".js-cart-num").val(this.quantity),$(".js-cart-num").attr("data-id",this.id))}),$(".js-cart-count").text(o),$(".js-item-count").text(o),$(".js-hc-total").attr("data-usd",$.formatFloatTo2(e.data.total)),$(".js-hc-total").text($.formatFloatTo2(e.data.total)),e.data.products&&e.data.products.length>0&&$(".header-cart-detail .cartCheckout").css("display","block"),$(e.data.products).each(function(e){var t=this.product_bundles,a="",o='<li class="rel">';t.length>0&&(a='<p class="m0 text-omitt f12" style="line-height:20px;" >The Packaging contains '+(t.length-1)+" items.</p> "),e>4&&(o='<li class="rel hide">'),i+=o+'<a href="'+goItemDetailUrl(this.product_name,this.product_id)+'" title="'+this.product_name+'"><img src="'+imageRoot+this.product_thumb+'" class="img fl"><div class="link fl">'+this.product_name+'</div></a><div class="fr ml10"><a href="#" class="js-hc-remove c-9b" data-price='+$.formatFloatTo2(this.final_price)+'  data-id="'+this.id+'"><i class="fa fa-trash-o fa-lg"></i></a></div><div class="fr"><div class="mb5 js-currency">$'+$.formatFloatTo2(this.final_price)+'</div></div><div style="bottom: 20px;clear: both;">'+a+"</div></li>"})}else t.find(".total-bar").hide(),t.find(".empty-bar").show();$(".js-hc-list").empty().append(i),setCurrencyClick(""),0!=$(".js-hc-list").find("li").length&&($(".total-bar").show(),$(".empty-bar").hide()),$(".js-hc").hover(function(){t.show()},function(){t.hide()}),$(".user-detail").hover(function(){a.show()},function(){a.hide()}),$(".js-hc-logout").on("click",function(){doLogout(function(){location.reload()})})}});$(".js-hc-list").on("click",".js-hc-remove",function(){var t=$(this),a=t.attr("data-id"),i=t.attr("data-price");if($(".js-cart-num")){var o=$(".js-cart-num").attr("data-id");o&&o==a&&$(".js-cart-num").val(0)}return removeItemOfCart(e,a,function(o){seoDelCart(a,i),t.parent().parent().remove(),updateCartNum(e,".js-cart-count"),$(".js-hc-list").find("li").length?$(".js-hc-list").find("li").length>=5&&$(".js-hc-list").find("li").each(function(e){if(5==e)return $(this).show(),!1}):($(".total-bar").hide(),$(".header-cart-detail .cartCheckout").css("display","none"),$(".empty-bar").show())}),!1})}function goItemDetailUrl(e,t){e=getCodeUrl(e);var a=e+"-p-"+t+".html";return a}function getCodeUrl(e){var e=encodeURIComponent(e);return e=e.replace(/%20/g,"-"),e=e.replace(/\-+/g,"-"),e=e.replace(/%2F/g,"-")}function getPercent(e,t){return e.toFixed(t)+"%"}function getUrlParameter(e){var t="";for(var a in e)t+=a+"="+e[a]+"&";return t=t.substr(0,t.length-1)}function setCurrencyClick(e,t,a){if($.isNull(e)){if(e=$.cookie("seeedCurrencyType"),void 0==e)return!1;setRateCookie(e,t,a)}else getApiByParam(seeedApiURL.setCurrency,{currency:e},function(i){t=i.data.rate,setRateCookie(e,t,a)})}function setRateCookie(e,t,a){var i=$.cookie("seeed_"+e+"_rate");return(!$.isNull(t)||!$.isNull(i))&&($(".j-currency-name").text(e),$(".j-currency-name").siblings(".country_flag").css({background:"url(../img/Flag/"+e+".svg) no-repeat","background-size":"cover",top:"11px"}),$.isNull(i)?($.cookie("seeed_"+e+"_rate",t,{expires:.04,path:"/"}),setCurrencyRate(e,t,a)):setCurrencyRate(e,i,a),void $.cookie("seeedCurrencyType",e,{expires:.04,path:"/"}))}function setCurrencyRate(e,t,a){$(".js-currency").each(function(){var a=$(this).attr("DATA-USD"),i="";switch(e){case"EUR":i="€";break;case"JPY":i="¥";break;case"GBP":i="£";break;case"CAD":i="C$";break;case"AUD":i="A$";break;case"USD":i="$"}if(void 0==a){var o=$(this).text().trim();o=o.replace(/\-/g,""),a=o.substr(1),$(this).attr("DATA-USD",a)}var n=(Number(a)*Number(t)).toFixed(2);i?$(this).text(i+n):$(this).text(e+n)}),a&&a()}function getUserCurrency(){var e=$.cookie("seeedCurrencyType");if(void 0==e)return{unit:"$",rate:"1"};var t=e;switch(e){case"EUR":t="€";break;case"JPY":t="¥";break;case"GBP":t="£";break;case"CAD":t="C$";break;case"AUD":t="A$";break;case"USD":t="$"}var a=$.cookie("seeed_"+e+"_rate");return{unit:t,rate:a}}function arrivalNotifyClick(e){var t=$(".notifyTipsBox .tip-cont").find("input");isOnline(function(e){if(0==e.errorcode)if(seeedLoginStatus=e.data.is_online,e.data.is_online)if($.cookie("arrivalTipEmail"))t.val(decodeURIComponent($.cookie("arrivalTipEmail")));else{var a=decodeURIComponent($.cookie("seeedEmail")),i=/^(testadmin)\d*(@seeed\.cc)$/g;i.test(a)?t.val(""):t.val(decodeURIComponent($.cookie("seeedEmail")))}else $.cookie("arrivalTipEmail1")?t.val(decodeURIComponent($.cookie("arrivalTipEmail1"))):t.val("");else $.cookie("arrivalTipEmail1")?t.val(decodeURIComponent($.cookie("arrivalTipEmail1"))):t.val("")}),arrivalProductId=$(".is-out").length?$(e).parents("tr").attr("data-id"):$(e).attr("data-id"),$(".notifyTipsBox").show()}function isObjEmpty(e){for(var t in e)return!1;return!0}function logoutAndLogin(){doLogout(function(){recoveryLocation(),location.href="login.html"})}function seoDelCart(e,t){dataLayer.push({event:"CartDelete",ecommerce:{remove:{products:[{id:e,price:t,quantity:1,dimension1:"Promotional"}]}}})}function addBoxTips(e,t){var a="",i="tipCon",o='<a href="javascript:void(0);" class="tip-close"><i class="fa fa-close"></i></a>';"distinct_time"==e?(i="tipCon secWidth",a='<div><label>I want my items faster. Ship them as they become available. (at additional cost)</label></div><p>When items of the same order could not be ready at the same time, you can choose to have each dispatched as it becomes available or group your items into as few shipments as possible.</p><p><label>Check this means</label>, your items will be dispatched as they become available, beginning with those already in stock. You should choose this option if you want to receive your order quickly and the delivery may be delayed by the availabillity of single item, for example. However, we"ll charge you for the delivery of each parcel.</p><div><label>If you don"t check this</label>, your order will be grouped into as few shipments as possible. This may mean that they take longer to dispatch, depending on availability,but there"ll only be one per-delivery charge. Please be aware that items whose availability is listed as Pre Order or Back Ordered can potentially delay deliveries with this option.</div>'):"distinct_store"==e?(i="tipCon secWidth",a='<div><label>I want my items faster. Ship them from the closest warehouse. (at additional cost)</label></div><p>When the inventory of items are enough in HK and US, you can choose to make them available faster by shipping from different places or group them into one shippment.</p><p><label>Check this means</label>, items will be divided into two shipments shipping from US and HK.You should choose this option if you want to receive your items being fulfilled by Amazon quickly, and you may overpay a little money.</p><div><label>If you don"t check this</label>, all of items except PCB will be shipping from HK. This may mean that they take longer to dispatch.</div>'):"load-link"==e?(o="",a='<div style="text-align: center;">Sorry, not enough items in stock. Please try again.</div><div class="center tip-sub">BACK TO CART</div>'):"time-out"==e&&(o="",a='<div style="text-align: center;">Connection time out. Please check your internet connection and try again.</div><div class="center tip-sub">BACK TO CART</div>');var n='<div class="notifyTipsBox" id="'+e+'" style="display:block"><div class="notifyTips"></div><div class="'+i+'" style="height: auto;">'+o+'<div class="tip-cont">'+a+"</div></div></div>";$("body").append(n),$("#"+e).on("click",".tip-close",function(){$(this).closest(".notifyTipsBox").remove()}),""!=t&&$(".tip-sub").click(function(){location.href=t})}function getTopBanner(e){var t=seeedApiURL.getTopBanner+getRealToken(!1),a=e?e:"bazaar";startAjax(t,"type="+a,function(e){if(0==e.code){var t='<div class="header-top-tips w100p tc j-h-index-tips" style="background-color:'+e.data.color+'"><a href="'+e.data.link+'" title="'+e.data.desc+'" target="'+e.data.href_type+'"><img src="//statics3.seeedstudio.com'+e.data.image+'" alt="'+e.data.desc+'" class="center" style="max-width:1200px;"></a></div>';$("header").prepend(t)}})}function getOrderInfo(e,t,a){var i="";switch(e){case"paypal":i="//"+window.location.host+"/api/index.php?r=bazaar/payment/pay&express_id="+t;break;case"order":i="//"+window.location.host+"/api/index.php?r=bazaar/payment/pay&order_sn="+t}startAjax(i,"",function(e){a&&a(e)})}function getBomTotalData(e,t){var a="",i=1==t?"c-000 f-os-sb":"cir-bg f-os-b";return e.st_total&&e.st_total>0&&(a+='<li class="fl">Total parts:<span class="'+i+'">'+e.st_total+"</span></li>"),e.st_unavailbale&&e.st_unavailbale>0&&(a+='<li class="fl">Unavailable:<span class="'+i+'">'+e.st_unavailbale+"</span></li>"),e.st_pending&&e.st_pending>0&&(a+='<li class="fl">Pending:<span class="'+i+'">'+e.st_pending+"</span></li>"),e.st_confirmed&&e.st_confirmed>0&&(a+='<li class="fl">Confirmed:<span class="'+i+'">'+e.st_confirmed+"</span></li>"),a}function openFusionBom(e){$("#fusion-bom").length>0&&$("#fusion-bom").remove();var t=parseInt($(e).attr("data-id")),a=fusion_bom_data[t],i=a.length,o=i,n=0,r=0,s=0,c='<ul class="clear mt10 mb20 f-os-sb">',l="",d='<div class="fusion-bom-detail rel" id="fusion-bom"><div class="fusion-bom-bg"></div><div class="fusion-bom-contain f13 c-3c '+(o>8?"con-new":"")+'"><div class="fusion-bom-close abs f20"><i class="fa fa-close"></i></div><div class="title f20 f-os-sb">BOM</div>';l+='<div class="f-os-sb detail-table-div '+(i>8?"tab-div":"")+'"><table class="fusion-table f12"><tr class="f13"><th class="w-1">Order</th><th class="w-2">Location</th><th class="w-3">MPN/SKU</th><th class="w-2">Quantity</th><th class="w-2">Amount</th><th class="w-4">Status</th>',$(a).each(function(e){var t=(parseInt(this.qty)+parseInt(this.waste_qty))*parseInt(this.pcba_qty)*parseFloat(this.unit_price),a=0==this.status?"Unavailable":1==this.status||2==this.status?"Pending":"Confirmed",i=/^(508)/,o=i.test(this.sku)?this.mpn:this.sku,c=parseInt(this.qty);l+="<tr><td>"+(e+1)+'</td><td><div class="lh16 mt10 mb10 ml10 mr10">'+this.designator+"</div></td><td>"+o+"</td><td>"+(0==c?0:c)+" * "+parseInt(this.pcba_qty)+'</td><td><label class="js-currency">$'+t.toFixed(2)+"</label></td><td>"+a+"</td></tr>",1==this.status||2==this.status?r++:0==this.status?n++:s++}),o>0&&(c+='<li class="fl">Total parts:<span class="cir-bg f-os-b">'+o+"</span></li>"),n>0&&(c+='<li class="fl">Unavailable:<span class="cir-bg f-os-b">'+n+"</span></li>"),r>0&&(c+='<li class="fl">Pending:<span class="cir-bg f-os-b">'+r+"</span></li>"),s>0&&(c+='<li class="fl">Confirmed:<span class="cir-bg f-os-b">'+s+"</span></li>"),c+="</ul>",l+="</table></div>",d+=c+l+'<div class="mt15 c-000 '+(o>8?"pr60":"")+'"><label class="f-os-sb c-3c">Unavailable:</label> This status means that your component is not available. You need to find a new part with a new MPN and send it to our email: <a class="email" href="mailto:Fusion@seeed.cc">Fusion@seeed.cc</a></div><div class="mt10 c-000 '+(o>8?"pr60":"")+'"><label class="f-os-sb c-3c">Pending:</label> This status means that we are now checking the MPN you want is available or not, please wait and pay attention to the message from our email: <a class="email" href="mailto:Fusion@seeed.cc">Fusion@seeed.cc</a></div></div></div>',$("body").append(d),$("#fusion-bom .fusion-bom-close").click(function(){$("#fusion-bom").remove()}),o>8&&$("#fusion-bom .detail-table-div").mCustomScrollbar({axis:"y",theme:"my-theme",autoExpandScrollbar:!0,advanced:{autoExpandHorizontalScroll:!0}})}function isNumberKey(e,t,a){var i=e.which?e.which:event.keyCode,o=t.value.length;i>31&&(i<48||i>57)?e.preventDefault():(1==a&&o>22&&e.preventDefault(),2==a&&o>4&&e.preventDefault(),3==a&&o>2&&e.preventDefault())}function getQuestionnaireQData(e,t,a,i){var o=seeedApiURL.getQuestionnaireData+getRealToken(e),n="key="+t+"&page="+a;startAjax(o,n,function(e){0==e.code&&i(e.data)})}function submitForm(e,t,a,i,o){var n=seeedApiURL.submittQuestionnaireData+getRealToken(e),r="item_id="+t+"&key="+a+"&param="+i;startAjax(n,r,function(e){0==e.code&&o(e)})}function recommendAddCart(){$("body").on("click",".vi-item-add,.si-add-cart",function(){var e=$(this),t=e.find("label"),a=e.find("span"),i=e.parent(),o=e.attr("data-id");t.html('<i class="fa fa-spinner fa-spin"></i>').removeClass("animated fadeOut").removeClass("hide"),a.addClass("hide"),addDataToCart(o,1,function(n){if(0==n.errorcode){t.html("SUCCESS").addClass("animated fadeIn"),setTimeout(function(){t.removeClass("animated fadeIn").addClass("animated fadeOut"),setTimeout(function(){t.addClass("hide"),a.removeClass("hide")},500)},1e3),addHeaderCart(!0);var r={id:o,price:i.find(".vi-item-price").text().substr(1)};return seoAddToCart(r),!1}1==n.errorcode&&(e.removeClass("vi-item-add").addClass("vi-item-dis"),t.html(n.msgs.toUpperCase()).addClass("animated fadeIn"),setTimeout(function(){t.removeClass("animated fadeIn").addClass("animated fadeOut"),e.removeClass("vi-item-dis").addClass("vi-item-add"),setTimeout(function(){t.addClass("hide"),a.removeClass("hide")},1e3)},1e3))})})}function addDataToCart(e,t,a){var i=seeedApiURL.addCartNew+getRealToken(!0),o="pid="+e+"&qty="+t;startAjax(i,o,function(e){a(e)})}var baseURL="//"+window.location.host,apiRoot=baseURL+"/api/",imageRoot="//statics3.seeedstudio.com",environment=baseURL.indexOf("release.seeed.int")>-1?2:1;environment=baseURL.indexOf("a.seeedstudio.com")>-1?3:environment,environment=baseURL.indexOf("www.seeedstudio.com")>-1?4:environment;var newApiRoot=2==environment?"//apirelease.seeed.int:8082":"//api.seeed.int:8082";newApiRoot=3==environment?"//b.seeedstudio.com":newApiRoot,newApiRoot=4==environment?"//sapi.seeedstudio.com":newApiRoot;var socketIp=3==environment||4==environment?"wss://socket.seeedstudio.com":"ws://192.168.1.40:2346",pay_email=4==environment?"payment_api1.seeed.cc":"supersandy_api1.gmail.com",pay_environment=4==environment?"production":"sandbox",paypal_url=4==environment?"https://www.paypal.com/checkoutnow?token=":"https://www.sandbox.paypal.com/checkoutnow?token=",braintree_merchantId=4==environment?"601570":"3tn8ybv4q38nkznr",is_fba_show=!1,fusion_bom_data={},seeedApiURL={addCart:apiRoot+"index.php?r=bazaar/cart/default/add",getCurrency:apiRoot+"index.php?r=bazaar/checkout/currency/get-currency",setCurrency:apiRoot+"index.php?r=bazaar/checkout/currency/set-currency",getIpCurrency:apiRoot+"index.php?r=bazaar/checkout/currency/ip-currency",getCurrencyList:newApiRoot+"/bazaar/currency/index",getOrdesList:apiRoot+"index.php?r=bazaar/user/order/list",getFusionList:apiRoot+"index.php?r=bazaar/user/order/fusion",getCustomerOrdesList:newApiRoot+"/order-list",getCustomerFusionList:newApiRoot+"/fusion-list",setCancelOrdes:apiRoot+"index.php?r=bazaar/user/order/cancel",getIsLogin:newApiRoot+"/is-login",setLogout:apiRoot+"index.php?r=common/login/logout",setLogin:apiRoot+"index.php?r=common/login/login",shipUploadCosts:newApiRoot+"/shipping/upload-costs",searchByName:newApiRoot+"/search/bname",getCartData:newApiRoot+"/cart",updateCart:newApiRoot+"/update-cart",deleteCart:newApiRoot+"/delete-cart",addCartNew:newApiRoot+"/add-cart",setShipAddress:newApiRoot+"/set-ship-address",getShipList:newApiRoot+"/bazaar/checkout/product-logistics",setShipping:newApiRoot+"/shipping_set",checkout:newApiRoot+"/checkout",couponsVerify:newApiRoot+"/bazaar/checkout/coupons-verify",couponsCancel:newApiRoot+"/bazaar/checkout/coupons-cancel",orderSplit:newApiRoot+"/bazaar/checkout/order-split",wireLessCheckout:newApiRoot+"/wireless",welcomeCoupon:newApiRoot+"/bazaar/promotion/welcome-coupon",getTopBanner:newApiRoot+"/top-banner",gerberUpload:newApiRoot+"/fusion/fusion-file/gerber",bingGerberUpload:newApiRoot+"/fusion/fusion-file/bind-gerber",getPcbParam:newApiRoot+"/fusion/parament/pcb-param",getPcbPrice:newApiRoot+"/fusion/price/pcb",addFusionToCart:newApiRoot+"/bazaar/cart/add-fusion",bomUpload:newApiRoot+"/fusion/fusion-file/bom",getBomToken:apiRoot+"index.php?r=bazaar/fusion/default/get-token",getBomDetail:newApiRoot+"/fusion/price/bom-compute",setBomComponent:newApiRoot+"/fusion/price/bom-select",setBomCompLink:newApiRoot+"/fusion/price/bom-enquiry",getBomPrice:newApiRoot+"/fusion/price/pcba",getStencilParam:newApiRoot+"/fusion/parament/stencil-param",getStencilPrice:newApiRoot+"/fusion/price/stencil",getKeyPanel:newApiRoot+"/fusion/custom/key-panel",getGalleryList:newApiRoot+"/fusion/gallery/list",getGalleryHomeList:newApiRoot+"/fusion/gallery/home-list",addGalleryToCart:newApiRoot+"/bazaar/cart/fusion-gallery",get3dMaterialData:newApiRoot+"/fusion/parament/td-material",f3DUpload:newApiRoot+"/fusion/fusion-file/three-dimensional",get3dPrice:newApiRoot+"/fusion/price/three-dimensional",getOplCategory:newApiRoot+"/fusion/opl/category",getOplList:newApiRoot+"/fusion/opl/all",searchOpl:newApiRoot+"/fusion/opl/search",getFusionLanguage:newApiRoot+"/doc/multilang/key",getFusionLayoutPrice:newApiRoot+"/fusion/price/layout",getUnsubscribeMsg:newApiRoot+"/bazaar/user/unsubscribe-prompt",unsubscribeFusion:newApiRoot+"/bazaar/user/email-unsubscribe",getFaqList:newApiRoot+"/getFaqList",addProductFAQ:newApiRoot+"/addProductFAQ",addFAQComment:newApiRoot+"/addFAQComment",likeFAQ:newApiRoot+"/likeFAQ",likeComment:newApiRoot+"/likeComment",getReviewList:newApiRoot+"/getReviewList",addReview:newApiRoot+"/addReview",likeReview:newApiRoot+"/likeReview",modifyEmail:apiRoot+"index.php?r=common/login/modify-email",getHalloween:newApiRoot+"/bazaar/data/halloween",getFullActivity:newApiRoot+"/bazaar/adv/fullsend",getCouponsList:newApiRoot+"/bazaar/checkout/coupons-list",getUserCoupons:newApiRoot+"/bazaar/user/user-coupons",addCoupon:newApiRoot+"/bazaar/user/add-coupon",getPropogateProducts:newApiRoot+"/bazaar/propogate/inventory",getPropogateOrders:newApiRoot+"/bazaar/propogate/product-order-status",getPropogateSummary:newApiRoot+"/bazaar/propogate/product-sales-summary",getPropogateReport:newApiRoot+"/bazaar/propogate/payment-report",getPropogateSku:newApiRoot+"/bazaar/propogate/products",getPropogateSales:newApiRoot+"/bazaar/propogate/sales-summary",getPropogateExportSales:newApiRoot+"/bazaar/propogate/export-sales-summary",getSeoKeyword:newApiRoot+"/seo/keyword",getAggregation:newApiRoot+"/aggregation",getAggregationInfo:newApiRoot+"/sku_info",getSeoOrderInfo:newApiRoot+"/pay_msg",expressCheckout:apiRoot+"index.php?r=bazaar/payment/express",getOrderDetail:newApiRoot+"/order-detail",getUserAddressList:newApiRoot+"/address/list",deleteUserAddress:newApiRoot+"/address/remove",addUserAddress:newApiRoot+"/address/add",updateUserAddress:newApiRoot+"/address/update",getUserAddressDetail:newApiRoot+"/address/detail",setDefaultAddress:newApiRoot+"/address/set_default",getQuestionnaireData:newApiRoot+"/doc/questionnaire/list",submittQuestionnaireData:newApiRoot+"/doc/questionnaire/process",getRecommend:apiRoot+"index.php?r=recommend/index",propagateCertificate:newApiRoot+"/propagate/parament/certificate",propagatePackaging:newApiRoot+"/propagate/parament/packaging",propagateMould:newApiRoot+"/propagate/parament/mould"},scoketApi={userCoupon:2,userOrder:3,viewUser:4};setTimeout(function(){$.getScript("/js/Websocket.js",function(){})},2e3),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function a(e){return s.raw?e:decodeURIComponent(e)}function i(e){return t(s.json?JSON.stringify(e):String(e))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),s.json?JSON.parse(e):e}catch(e){}}function n(t,a){var i=s.raw?t:o(t);return e.isFunction(a)?a(i):i}var r=/\+/g,s=e.cookie=function(o,r,c){if(void 0!==r&&!e.isFunction(r)){if(c=e.extend({},s.defaults,c),"number"==typeof c.expires){var l=c.expires,d=c.expires=new Date;d.setTime(+d+864e5*l)}return document.cookie=[t(o),"=",i(r),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var u=o?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,f=p.length;h<f;h++){var m=p[h].split("="),g=a(m.shift()),v=m.join("=");if(o&&o===g){u=n(v,r);break}o||void 0===(v=n(v))||(u[g]=v)}return u};s.defaults={},e.removeCookie=function(t,a){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},a,{
expires:-1})),!e.cookie(t))}}),!function(e){function t(t){function a(e){h.push({x:e.clientX,y:e.clientY}),h.length>g&&h.shift()}function i(){m&&clearTimeout(m),d.exitMenu(this)&&(p&&d.deactivate(p),p=null)}function o(){m&&clearTimeout(m),d.enter(this),s(this)}function n(){d.exit(this)}function r(e){e!==p&&(p&&d.deactivate(p),d.activate(e),p=e)}function s(e){var t=c();t?m=setTimeout(function(){s(e)},t):r(e)}function c(){function t(e,t){return(t.y-e.y)/(t.x-e.x)}if(!p||!e(p).is(d.submenuSelector))return 0;var a=u.offset();0==a.left&&(a={left:(document.body.clientWidth-1200)/2,top:42});var i={x:a.left,y:a.top-d.tolerance},o={x:a.left+u.outerWidth(),y:i.y},n={x:a.left,y:a.top+u.outerHeight()+d.tolerance},r={x:a.left+u.outerWidth(),y:n.y},s=h[h.length-1],c=h[0];if(!s)return 0;if(c||(c=s),c.x<a.left||c.x>r.x||c.y<a.top||c.y>r.y)return 0;if(f&&s.x===f.x&&s.y===f.y)return 0;var l=o,m=r;"left"===d.submenuDirection?(l=n,m=i):"below"===d.submenuDirection?(l=r,m=n):"above"===d.submenuDirection&&(l=i,m=o);var g=t(s,l),b=t(s,m),y=t(c,l),w=t(c,m);return y>g&&b>w?(f=s,v):(f=null,0)}var l,d,u=e(this),p=null,h=[],f=null,m=null,g=3,v=300;l={rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:e.noop,exit:e.noop,activate:e.noop,deactivate:e.noop,exitMenu:e.noop},d=e.extend({},l,t),u.on("mouseleave",i).find(d.rowSelector).on({mouseenter:o,mouseleave:n,click:function(){r(this)}}),e(document).mousemove(a)}e.fn.seeedMenuMove=function(e){return this.each(function(){t.call(this,e)}),this}}(jQuery),!function(e,t,a){"undefined"!=typeof module&&module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):t[e]=a()}("Fingerprint",this,function(){"use strict";var e=function(e){var t,a;t=Array.prototype.forEach,a=Array.prototype.map,this.each=function(e,a,i){if(null!==e)if(t&&e.forEach===t)e.forEach(a,i);else if(e.length===+e.length){for(var o=0,n=e.length;n>o;o++)if(a.call(i,e[o],o,e)==={})return}else for(var r in e)if(e.hasOwnProperty(r)&&a.call(i,e[r],r,e)==={})return},this.map=function(e,t,i){var o=[];return null==e?o:a&&e.map===a?e.map(t,i):(this.each(e,function(e,a,n){o[o.length]=t.call(i,e,a,n)}),o)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)};return e.prototype={get:function(){var e=[];if(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution){var t=this.getScreenResolution();"undefined"!=typeof t&&e.push(this.getScreenResolution().join("x"))}return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),document.body?e.push(typeof document.body.addBehavior):e.push("undefined"),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var a,i,o,n,r,s,c,l;for(a=3&e.length,i=e.length-a,o=t,r=3432918353,s=461845907,l=0;i>l;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,c=(65535&c)*r+(((c>>>16)*r&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,o^=c,o=o<<13|o>>>19,n=5*(65535&o)+((5*(o>>>16)&65535)<<16)&4294967295,o=(65535&n)+27492+(((n>>>16)+58964&65535)<<16);switch(c=0,a){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:c^=255&e.charCodeAt(l),c=(65535&c)*r+(((c>>>16)*r&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,o^=c}return o^=e.length,o^=o>>>16,o=2246822507*(65535&o)+((2246822507*(o>>>16)&65535)<<16)&4294967295,o^=o>>>13,o=3266489909*(65535&o)+((3266489909*(o>>>16)&65535)<<16)&4294967295,o^=o>>>16,o>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var e=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return this.map(e,function(e){try{return new ActiveXObject(e),e}catch(e){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),a="http://valve.github.io";return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(a,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(a,4,17),e.toDataURL()}},e}),$.fn.createConfirmPot=function(e){var t={id:"confirm-potlayer",title:"Confirm",clazz:"",text:"",confirm:!0,cancel:!0},a=$.extend({},t,e),i=""==a.text?"":'<p class="text c-10">'+a.text+"</p>",o=a.confirm?'<a href="#" class="btn btn-confirm js-com fr">CONFIRM</a>':"",n=a.cancel?'<a href="#" class="btn btn-default mr20 js-confrim-cancel fl">CANCEL</a>':"",r='<div class="potlayer '+a.clazz+'" id="'+a.id+'"><div class="potlayer__confirm tc clear"><div class="title c-10">'+a.title+"</div>"+i+n+o+"</div></div>";return $("body").on("click",".js-confrim-cancel",function(){return $(this).parent().parent().hide(),$("html").removeClass("ofh"),!1}),this.append(r)},$.fn.creatLoadingState=function(e){var t={bgc:"#09694f",removeclass:"js-add-cart",text:"ADDING"},a=$.extend({},t,e),i=$(this).clone().css("background-color",a.bgc).attr("href","javascript:void(0);").attr("id",a.id).addClass(a.clazz).removeClass(a.removeclass).html('<i class="fa fa-spinner fa-spin mr10"></i>'+a.text);$(this).hide().parent().append(i)},$.extend({checkNotNull:function(e,t){var a=$(t);a.on(e,function(){var e=$(this);e.parent().find(".warning").remove(),""==$.trim(a.val())?(e.parent().append('<div class="warning tr abs hide">This field is required </div>'),e.next().removeClass("hide").addClass("animated flash")):e.next().remove()})},clickCheckNotNull:function(e){var t=$(e),a=$.trim(t.val());if(t.parent().find(".warning").remove(),""==a)t.parent().append('<div class="warning tr abs hide">This field is required </div>'),t.next().removeClass("hide").addClass("animated flash");else{if((e.indexOf(".js-city")>-1||e.indexOf(".js-state")>-1||e.indexOf(".js-add")>-1)&&checkUnenChar(a))return t.parent().append('<div class="warning tr abs hide">English Only</div>'),t.next().removeClass("hide").addClass("animated flash"),!1;t.next().remove()}},checkMail:function(e,t){var a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;$(t).on(e,function(){var e=$(this),t=e.val();e.parent().find(".warning").remove(),a.test(t)?e.next().remove():(e.parent().append('<div class="warning tr abs hide">Email wrong</div>'),e.next().removeClass("hide").addClass("animated shake"))})},onlyNumber:function(e){return e.value=e.value.replace(/[^\d]/g,"").replace(/(\d{4})(?=\d)/g,"$1")},formatFloatTo2:function(e){return e=e?e:0,parseFloat(e).toFixed(2)},isNull:function(e){return null==e||void 0==e||""==e},formatImgURl:function(e){if(e.indexOf("upload")!=-1){var t=imageRoot+e;return t}if(e.indexOf("images")!=-1){var t=imageRoot+e;return t}var t=imageRoot+e;return t}});var arrivalProductId=0,seeedLoginStatus=!1;